# 🗓️ Enhanced Schedule System

## 🎯 Overview

The upgraded schedule cog provides a modern, emoji-rich scheduling system for planning gaming sessions. It features day-of-week emojis, AI-generated intro messages, customizable thresholds, and enhanced result formatting.

## ✨ New Features

### 🎨 Day Emojis
Each day of the week has a unique emoji:
- 🌙 **Poniedziałek** (Monday) - Moon
- 🔥 **Wtorek** (Tuesday) - Fire
- ⚡ **Środa** (Wednesday) - Lightning  
- 🌟 **Czwartek** (Thursday) - Star
- 🎉 **Piątek** (Friday) - Party
- 🌅 **Sobota** (Saturday) - Sunrise
- ☀️ **Niedziela** (Sunday) - Sun
- 📊 **Wyniki** (Results) - Chart

### 🤖 AI Integration
- Dynamic intro messages generated by Sławek
- Personalized, creative scheduling prompts
- Fallback to standard messages if AI unavailable

### 📊 Enhanced Results
- Color-coded availability (🟢 = enough players, 🔴 = need more)
- Player count displays
- Summary of available days
- Total participant count
- Automatic timestamps

## 🎮 Commands

### Basic Commands
- `!kiedy_gramy` / `!schedule` - Create new schedule poll
- `!schedule_info` - Show current schedule information  
- `!schedule_threshold [number]` - Set minimum players needed (1-20)

### Aliases
- `kiedyGramy`, `kiedy-gramy`, `kiedygramy`
- `info_harmonogram`, `prog_harmonogram`

## 🔧 Configuration

### Environment Variables
```env
SCHEDULE_CHANNEL=123456789  # Channel ID for schedules
SCHEDULE_THRESHOLD=4        # Default minimum players (optional)
OPENAI_API_KEY=sk-...       # For AI intro messages (optional)
```

### Custom Emojis
The system uses your existing custom emoji IDs but falls back to standard Unicode emojis if they're unavailable.

## 📱 Usage Flow

1. **Create Poll**: Use `!kiedy_gramy` to create a new weekly schedule
2. **React**: Players react with day emojis when they're available
3. **Check Results**: React with 📊 to see formatted results
4. **Auto-Update**: Results update automatically when reactions change

## 🎯 Features in Detail

### Smart Threshold System
- Configurable minimum player requirement
- Visual indicators when threshold is met
- Summary of viable gaming days

### Robust Error Handling
- Graceful fallbacks for missing emojis
- Error recovery for deleted messages
- Informative error messages

### Modern UI
- Clean, formatted messages with embeds
- Timestamp tracking
- Participant counting
- Week range display

## 📋 Example Output

```
## 🗓️ Kiedy gramy?
|| @everyone ||

📅 Tydzień: 02.09 - 08.09.2025
🎯 Próg: 4 graczy

*🎲 Nowe przygody czekają w mojej karczmie! Zaznaczcie kiedy macie czas na epickie sesje!*

**Reaguj na dni kiedy możesz grać:**

---

## 📊 Wyniki głosowania
🎯 Próg: 4 graczy

🟢 🎉 **Piątek** (5): Anna, Jan, Piotr, Kasia, Tomek
🔴 🌅 **Sobota** (2): Anna, Jan
🟢 ☀️ **Niedziela** (4): Anna, Jan, Piotr, Kasia

✅ **Dostępne terminy**: Piątek, Niedziela
👥 **Łącznie głosujących**: 5
🕐 *Ostatnia aktualizacja: 30.08.2025 15:30*
```

## 🔄 Migration from Old System

The new system is backward compatible with existing emoji IDs and maintains the same core functionality while adding enhanced features. No data migration required - just restart the bot with the updated cog.
